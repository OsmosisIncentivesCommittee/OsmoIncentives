name: MakeProposal
on:
  schedule:
    - cron: "0 5 * * 1"
jobs:
  Propose:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout main
        uses: actions/checkout@v3
        with:
          ref: main

      # - name: Setup go
      #   uses: actions/setup-go@v3
      #   with:
      #     go-version: '>=1.17.0'
      
      - name: Setup Python
        uses: actions/setup-python@v3
        with:
          python-version: '3.9'
      
      - name: install osmosis binary with hardcoded version
        uses: wei/wget@v1.1.1
        with:
          args: -O osmosisd https://github.com/osmosis-labs/osmosis/releases/download/v7.1.0/osmosisd-7.1.0-linux-amd64

      # - name: setup keys via secrets
        #TODO

      - name: run make proposal script
        run: python3 Propose.py